// TODO: port some of the functionality to Python